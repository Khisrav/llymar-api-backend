import{_ as h,a as l,b as a,d as e,w as _,e as m,f,F as g,r as d,o as i,g as x}from"./index-DLEFopRY.js";import{I as y,B as w}from"./InputTag-CRqSetIR.js";import{H as b}from"./HeaderLayout-DQsp0aWV.js";import{l as k}from"./auth-BimC6yo6.js";import"./axios-Cm0UX6qg.js";const v={components:{HeaderLayout:b,InputTag:y,ButtonTag:w},data(){return{email:"",password:"",displayError:!1,displayEmptyFields:!1}},mounted(){sessionStorage.getItem("token")&&this.$router.push("/user")},methods:{async performLogin(){try{if(this.email==""||this.password==""){this.displayEmptyFields=!0;return}else this.displayEmptyFields=!1;(await k(this.email,this.password)).access_token?this.$router.push("/user"):this.displayError=!0}catch(r){console.log(r)}}}},V={class:"bg-gray-50 dark:bg-black"},B={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},E={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},H={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},I=e("h1",{class:"text-xl text-center font-bold leading-tight tracking-tight text-black md:text-2xl dark:text-white"},"Вход",-1),M=e("label",{for:"phone",class:"block mb-1 text-sm font-medium text-black dark:text-white"},"Почта",-1),T=e("label",{for:"password",class:"block mb-1 text-sm font-medium text-black dark:text-white"},"Пароль",-1),F={key:0,class:"flex items-center p-4 mb-4 text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert"},L=e("svg",{class:"flex-shrink-0 w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1),Z=e("span",{class:"sr-only"},"Info",-1),C=e("div",{class:"ms-3 text-sm font-medium"},"Неправильная почта или пароль",-1),N=[L,Z,C],q={key:1,class:"flex items-center p-4 mb-4 text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert"},A=e("svg",{class:"flex-shrink-0 w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1),S=e("span",{class:"sr-only"},"Info",-1),U=e("div",{class:"ms-3 text-sm font-medium"},"Заполните поля",-1),j=[A,S,U];function P(r,s,z,D,t,c){const p=d("HeaderLayout"),n=d("InputTag"),u=d("ButtonTag");return i(),l(g,null,[a(p),e("section",V,[e("div",B,[e("div",E,[e("div",H,[I,e("form",{class:"space-y-4 md:space-y-6",method:"post",onSubmit:s[2]||(s[2]=_(o=>c.performLogin(),["prevent"]))},[e("div",null,[M,a(n,{type:"tel",id:"email",modelValue:t.email,"onUpdate:modelValue":s[0]||(s[0]=o=>t.email=o),placeholder:"Введите почту",class:"w-full",required:""},null,8,["modelValue"])]),e("div",null,[T,a(n,{type:"password",id:"password",modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=o=>t.password=o),placeholder:"Введите ваш пароль",class:"w-full",required:""},null,8,["modelValue"])]),t.displayError?(i(),l("div",F,N)):m("",!0),t.displayEmptyFields?(i(),l("div",q,j)):m("",!0),a(u,{type:"submit",class:"w-full"},{default:f(()=>[x("Войти")]),_:1})],32)])])])])],64)}const R=h(v,[["render",P]]);export{R as default};
